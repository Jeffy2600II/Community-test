@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Noto+Sans+Thai:wght@400;600;700&display=swap');

/* ========================================================================
   style.css — Tuned feed header spacing & sizing
   - Avatar stays visible and fixed on the left (no absolute positioning)
   - Username + timestamp are inline and can sit close to the content
   - Post images: responsive, never cropped; constrained by max-height (viewport-based)
   - Mobile: stricter max-height so tall images fit comfortably on-screen
   ======================================================================== */

:root{
  --bg: #f6f7fb;
  --surface: #ffffff;
  --muted: #97a0b3;
  --muted-2: #b7c2cf;
  --text: #1f2a37;
  --accent: #2f80ed;
  --accent-2: #17c2a1;
  --danger: #e16060;
  --glass: rgba(16,24,40,0.04);

  --radius-sm: 6px;
  --radius: 10px;
  --radius-lg: 14px;

  --shadow-1: 0 6px 20px rgba(29,41,56,0.06);
  --shadow-2: 0 14px 40px rgba(29,41,56,0.08);

  --space-xxs: 4px;
  --space-xs: 8px;
  --space-sm: 12px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 36px;

  --max-width: 1100px;
  --max-width-narrow: 920px;
  --transition: 180ms cubic-bezier(.2,.9,.2,1);
  --readable-line: 1.5rem;
  --touch-target: 44px;
}

/* Respect user reduced motion */
@media (prefers-reduced-motion: reduce) {
  :root { --transition: 0ms; }
}

/* ------------------------------------------------------------------ */
/* Base reset & typography                                             */
/* ------------------------------------------------------------------ */
* { box-sizing: border-box; }
html,body { height: 100%; }
body {
  margin: 0;
  font-family: 'Inter', 'Noto Sans Thai', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, var(--bg), #f4f6fa 120px);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.45;
  font-size: 15px;
  -webkit-text-size-adjust: 100%;
}

/* ------------------------------------------------------------------ */
/* Layout containers                                                    */
/* ------------------------------------------------------------------ */
.container {
  width: 100%;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--space-md);
}

main {
  max-width: var(--max-width-narrow);
  margin: calc(var(--space-lg) + 8px) auto;
  background: transparent;
  padding: 0;
  min-height: 60vh;
}

/* ------------------------------------------------------------------ */
/* Cards                                                                */
/* ------------------------------------------------------------------ */
.card {
  background: var(--surface);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
  padding: calc(var(--space-md) - 2px);
  margin-bottom: var(--space-lg);
  border: 1px solid rgba(15,23,42,0.03);
  transition: box-shadow var(--transition), transform var(--transition);
}
.card:focus-within {
  box-shadow: 0 10px 30px rgba(29,41,56,0.06);
}

/* ------------------------------------------------------------------ */
/* Header (structure preserved)                                         */
/* ------------------------------------------------------------------ */
.site-header {
  background: white;
  border-bottom: 1px solid rgba(15,23,42,0.04);
  position: sticky;
  top: 0;
  z-index: 1200;
  box-shadow: 0 1px 0 rgba(16,24,40,0.02);
}

.site-header .container {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  height: 68px;
  padding-left: var(--space-md);
  padding-right: var(--space-md);
}

.header-inner {
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--space-md);
  width: 100%;
}

.header-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  height: 68px;
  padding-top: 6px;
  padding-bottom: 6px;
}

/* Logo */
.logo {
  display:flex;
  align-items:center;
  gap: 12px;
  text-decoration: none;
  color: var(--text);
}
.logo .brand {
  font-weight: 700;
  letter-spacing: 0.6px;
  font-size: 1.05rem;
}
.logo .tagline {
  font-size: 0.78rem;
  color: var(--muted);
}

/* Mobile toggle (kept hidden on wide screens) */
#mobileMenuToggle {
  display: none;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 8px;
  border-radius: 8px;
}

/* Header bottom (collapsible on mobile) */
.header-bottom {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  justify-content: space-between;
  padding-top: 8px;
  padding-bottom: 8px;
  transition: max-height 220ms ease, opacity 180ms ease, transform 180ms ease;
  overflow: hidden;
  width: 100%;
  max-height: 999px;
}
.header-bottom.collapsed { max-height: 0; opacity: 0; pointer-events: none; transform: translateY(-6px); }
.header-bottom.open { max-height: 999px; opacity: 1; pointer-events: auto; transform: translateY(0); }

/* Left nav area */
.header-left {
  display:flex;
  align-items:center;
  gap: var(--space-md);
  margin-right: auto;
}
.header-left nav a {
  color: var(--muted);
  text-decoration: none;
  padding: 8px 10px;
  border-radius: 8px;
  font-weight: 600;
  transition: color var(--transition), background var(--transition), transform var(--transition);
}
@media (hover: hover) {
  .header-left nav a:hover {
    color: var(--text);
    background: var(--glass);
    transform: translateY(-1px);
  }
}

/* Search */
.header-search {
  display:flex;
  align-items:center;
  gap:8px;
  min-width: 220px;
  max-width: 540px;
  width: 40%;
}
.header-search form {
  width: 100%;
  display:flex;
  align-items:center;
  gap:8px;
  background: linear-gradient(180deg,#fff,#fbfdff);
  padding:6px;
  border-radius: 12px;
  border: 1px solid rgba(15,23,42,0.04);
  box-shadow: 0 6px 18px rgba(46,60,80,0.02);
}
.header-search input[type="search"]{
  border: none;
  outline: none;
  font-size: 0.95rem;
  padding: 8px;
  background: transparent;
  width: 100%;
}

/* Header actions (right) */
.header-actions {
  display:flex;
  align-items:center;
  gap: var(--space-sm);
}

/* Avatar button */
.avatar-btn {
  display:flex;
  align-items:center;
  gap:10px;
  background: transparent;
  border: none;
  cursor: pointer;
  color: var(--text);
  padding: 8px;
  border-radius: 8px;
  transition: background var(--transition);
}
@media (hover: hover) {
  .avatar-btn:hover { background: var(--glass); }
}
.avatar-img {
  width:40px;
  height:40px;
  border-radius: 10px;
  object-fit: cover;
  border: 1px solid rgba(15,23,42,0.06);
}

/* ------------------------------------------------------------------ */
/* Buttons                                                              */
/* ------------------------------------------------------------------ */
.btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding: 10px 14px;
  min-height: var(--touch-target);
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 700;
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
  font-size: 0.95rem;
  line-height: 1;
}
.btn:active { transform: translateY(1px); }
.btn:focus { outline: 3px solid rgba(47,128,237,0.12); outline-offset: 2px; }

.btn-primary {
  background: linear-gradient(180deg,var(--accent), #1f66d6);
  color: white;
  box-shadow: 0 8px 20px rgba(47,128,237,0.12);
}
@media (hover: hover) {
  .btn-primary:hover { transform: translateY(-2px); }
}

.btn-ghost {
  background: transparent;
  border: 1px solid rgba(15,23,42,0.06);
  color: var(--text);
}
.btn-muted {
  background: #f4f6fb;
  color: var(--text);
}

/* ------------------------------------------------------------------ */
/* Utility badges                                                       */
/* ------------------------------------------------------------------ */
.badge {
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 999px;
  background: #eef6ff;
  color: var(--accent);
  font-weight: 700;
}

/* ------------------------------------------------------------------ */
/* Feed & posts                                                          */
/* ------------------------------------------------------------------ */
.feed {
  display:flex;
  flex-direction:column;
  gap: var(--space-md);
}

/* Keep the default .post visual card, but feed-specific stacking applied below */
.post {
  background: linear-gradient(180deg,#fff,#fcfdff);
  border-radius: var(--radius);
  box-shadow: var(--shadow-1);
  border: 1px solid rgba(15,23,42,0.03);
  padding: calc(var(--space-md) - 2px);
  margin-bottom: var(--space-md);
}

/* Default left avatar area (legacy structure still supported) */
.post .post-left {
  width: 64px;
  flex-shrink: 0;
}
.post .post-body {
  flex: 1;
}

/* Post title / meta / excerpt */
.post .post-title { font-size: 1.05rem; margin:0; color: var(--text); font-weight:700; }
.post .post-meta { color: var(--muted); font-size: 0.9rem; margin-top:6px; display:flex; gap:8px; align-items:center; }
.post .post-excerpt { margin-top: 12px; color: #38414b; }

/* Post actions */
.post-actions {
  margin-top: 12px;
  display:flex;
  gap:8px;
  align-items:center;
}

/* ------------------------------------------------------------------ */
/* New feed header layout: avatar + meta inline (no absolute positioning)
   - We intentionally remove the large left gutter approach so that the header
     (username + time) can sit directly beside the avatar and the content can
     be placed closer under it.
   ------------------------------------------------------------------ */

/* Make the header a normal inline row (avatar + meta + kebab) */
.feed .post {
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding-left: calc(var(--space-md) - 2px); /* default card padding */
}

/* header row: avatar + meta inline */
.feed .post-header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  width: 100%;
  margin-bottom: 6px;
}

/* avatar — keep it in flow (no absolute) so content can be positioned relative to it */
.feed .post-header .post-avatar {
  position: static;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  z-index: 2;
  flex-shrink: 0;
}

/* AVATAR: comfortable size, circular */
.feed .post-header .post-avatar .avatar-img {
  width: 48px;
  height: 48px;
  border-radius: 10px;
  object-fit: cover;
  border: 1px solid rgba(15,23,42,0.06);
}

/* meta area right of avatar: username + time stacked (column) */
.feed .post-header-meta {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0; /* allow truncation on small screens */
  margin-top: 0;
}

/* username */
.feed .post-header-meta .post-username a {
  font-weight: 700;
  color: var(--text);
  font-size: 0.96rem;
  line-height: 1;
  text-decoration: none;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: inline-block;
  vertical-align: top;
  max-width: 60ch;
}

/* timestamp */
.feed .post-header-meta .post-time {
  color: var(--muted);
  font-size: 0.88rem;
  line-height: 1;
  white-space: nowrap;
  opacity: 0.95;
  display: inline-block;
  vertical-align: top;
}

/* DisplayName (optional) */
.feed .post-header-meta .post-displayname {
  font-size: 0.92rem;
  color: var(--muted);
  margin-right: 4px;
  align-self: flex-start;
}

/* Body (content) sits directly under header with small gap */
.feed .post .post-body {
  display:flex;
  flex-direction: column;
  gap: 8px;
  padding: 0;
  margin-top: 0;
}

/* Ensure single-post view uses same layout (remove absolute avatar) */
.post .post-header {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  margin-bottom: 8px;
}
.post .post-header .post-avatar {
  position: static;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.post .post-header .post-avatar .avatar-img {
  width: 48px;
  height: 48px;
  border-radius: 10px;
}
.post .post-header-meta {
  align-items: flex-start;
  margin-top: 0;
}
.post .post-header-meta .post-username a,
.post .post-header-meta .post-time {
  font-size: 0.96rem;
  vertical-align: top;
}

/* ------------------------------------------------------------------ */
/* Post image behavior: responsive, no cropping
   - Images keep aspect ratio (width/height scale together)
   - Constrained by max-height (viewport-relative) to avoid overly tall images on mobile
   - max-width:100% ensures very wide images fit container
   - width:auto lets image shrink when height constraint applies (prevents distortion)
   ------------------------------------------------------------------ */
.post-img {
  display: block;
  max-width: 100%; /* never overflow the container width */
  width: auto;     /* allow width to adjust when height constraint is active */
  height: auto;    /* preserve aspect ratio */
  border-radius: 8px;
  margin-top: 10px;
  object-fit: contain; /* defensive: don't crop */
  /* Desktop/tablet default: allow tall images but limit to viewport height */
  max-height: 75vh;
}

/* Mobile: tighter max-height so tall images remain visible without scrolling off-screen */
@media (max-width: 800px) {
  .post-img {
    max-height: 60vh; /* suitable for most phones — adjustable if you prefer */
    margin-top: 20px;
  }
}

/* If you want a stricter ceiling on very large desktop screens */
@media (min-width: 1400px) {
  .post-img {
    max-height: 80vh;
  }
}

/* ------------------------------------------------------------------ */
/* Comments                                                             */
/* ------------------------------------------------------------------ */
.comment {
  background: #fbfdff;
  border: 1px solid rgba(15,23,42,0.03);
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 10px;
}
.comment .meta { font-size: 0.85rem; color: var(--muted); margin-bottom: 6px; }

/* ------------------------------------------------------------------ */
/* Forms & inputs                                                        */
/* ------------------------------------------------------------------ */
input, textarea, select, button { font-family: inherit; }
input[type="text"], input[type="email"], input[type="password"], textarea {
  width: 100%;
  border-radius: 10px;
  border: 1px solid rgba(15,23,42,0.06);
  padding: 12px 14px;
  background: #fff;
  transition: box-shadow var(--transition), border-color var(--transition);
  font-size: 0.96rem;
  line-height: 1.3;
}
input:focus, textarea:focus {
  outline: none;
  border-color: rgba(47,128,237,0.6);
  box-shadow: 0 8px 30px rgba(47,128,237,0.06);
}
textarea { min-height: 120px; resize: vertical; }

/* file input */
.input-file { display:inline-flex; gap:8px; align-items:center; }
.input-file input[type="file"] { display:none; }

/* ------------------------------------------------------------------ */
/* Profile hero, grid & responsive helpers                              */
/* ------------------------------------------------------------------ */
.profile-hero {
  background: linear-gradient(180deg,#fff,#fbfdff);
  padding: var(--space-md);
  border-radius: var(--radius);
  display:flex;
  flex-direction:column;
  gap: var(--space-sm);
  align-items:center;
  text-align:center;
  border: 1px solid rgba(15,23,42,0.03);
}
.profile-hero .avatar {
  width: 140px;
  height: 140px;
  border-radius: 18px;
  object-fit: cover;
  border: 4px solid #fff;
  box-shadow: var(--shadow-2);
}

.grid-2 {
  display:grid;
  grid-template-columns: 320px 1fr;
  gap: var(--space-md);
}
@media (max-width: 1100px) { .grid-2 { grid-template-columns: 1fr; } }

/* ------------------------------------------------------------------ */
/* Dropdowns / notifications / badges                                   */
/* ------------------------------------------------------------------ */
.dropdown-panel {
  min-width: 320px;
  max-width: 420px;
  border-radius: 12px;
  overflow: hidden;
  background: var(--surface);
  border: 1px solid rgba(15,23,42,0.06);
  box-shadow: 0 20px 60px rgba(16,24,40,0.12);
}
.dropdown-header {
  padding: 12px;
  border-bottom: 1px solid rgba(15,23,42,0.04);
  display:flex;
  align-items:center;
  gap:12px;
}
.dropdown-list { max-height:320px; overflow:auto; }
.dropdown-item { padding: 10px 12px; display:flex; gap:12px; align-items:flex-start; cursor: pointer; }
@media (hover: hover) { .dropdown-item:hover { background: #fbfdff; } }

/* notification badge */
.notify-bell { position: relative; width:42px; height:42px; display:flex; align-items:center; justify-content:center; border-radius:10px; }
.notify-badge {
  position:absolute;
  right:6px;
  top:6px;
  background: var(--danger);
  color: white;
  padding:2px 6px;
  font-size: 11px;
  border-radius: 999px;
  font-weight:700;
}

/* ------------------------------------------------------------------ */
/* Footer                                                               */
/* ------------------------------------------------------------------ */
.site-footer {
  margin-top: var(--space-xl);
  background: transparent;
  padding: var(--space-md) 0;
  color: var(--muted);
  font-size: 13px;
}
.site-footer .footer-inner {
  display:flex;
  gap: var(--space-lg);
  justify-content: space-between;
  align-items: center;
  max-width: var(--max-width);
  margin: 0 auto;
  padding: 0 var(--space-md);
}
.footer-links { display:flex; gap: var(--space-md); }
.footer-links a { color: var(--muted); text-decoration:none; }
@media (hover: hover) { .footer-links a:hover { color: var(--text); } }

/* small/muted helpers */
.small { font-size: 0.85rem; color: var(--muted); }
.section-title { margin: var(--space-md) 0; display:flex; align-items:center; gap:12px; }
.section-title span {
  background: linear-gradient(90deg, rgba(47,128,237,0.12), rgba(23,194,161,0.08));
  padding: 8px 14px;
  border-radius: 999px;
  font-weight:700;
  color: var(--accent);
}

/* accessibility helper */
.sr-only { position: absolute !important; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }

/* misc */
a { color: var(--accent); text-decoration: none; }
@media (hover: hover) { a:hover { text-decoration: underline; } }

/* avatar circle */
.avatar-circle {
  width: 120px;
  height: 120px;
  border-radius: 9999px;
  overflow: hidden;
  display: inline-block;
  background: linear-gradient(180deg,#fff,#f5f7fb);
  border: 3px solid #fff;
  box-shadow: 0 6px 18px rgba(16,24,40,0.06);
}
.avatar-circle img { width:100%; height:100%; object-fit: cover; display:block; }

/* modal */
.modal-fullscreen-bg {
  position: fixed; z-index: 9999; left: 0; top: 0; width: 100vw; height: 100vh;
  background: rgba(0,0,0,0.56); display: flex; align-items: center; justify-content: center;
  padding: 20px;
}
.modal-fullscreen-content {
  background: var(--surface);
  border-radius: 14px;
  width: min(920px, 96vw);
  max-height: 96vh;
  overflow: auto;
  padding: 20px;
  box-shadow: var(--shadow-2);
}

/* inline message */
#inlineMsg { display:none; margin-top:8px; color:var(--danger); font-size:0.95rem; }

/* utilities */
.hidden { display:none !important; }
.center { display:flex; align-items:center; justify-content:center; }
.row { display:flex; gap:12px; align-items:center; }
.col { display:flex; flex-direction:column; gap:8px; }

/* very small screens */
@media (max-width: 560px) {
  :root {
    --space-md: 12px;
    --space-lg: 18px;
    --touch-target: 48px;
  }
  body { font-size: 15px; }
  .site-header .container { height: 60px; padding-left: 12px; padding-right: 12px; }
  .btn { padding: 12px 14px; font-size: 0.95rem; border-radius: 12px; }
  .avatar-circle { width: 96px; height: 96px; }
  .profile-hero .avatar { width: 120px; height: 120px; }
  .card { padding: 12px; }
}

/* medium screens */
@media (min-width: 561px) and (max-width: 950px) {
  .header-search { display:none; }
  .grid-2 { grid-template-columns: 1fr; }
  .avatar-circle { width: 110px; height: 110px; }
}

/* Ensure images don't overflow */
img { max-width: 100%; height: auto; display: block; }

/* ------------------------------------------------------------------ */
/* Mobile-first stacked header behavior (UNCHANGED layout positions)    */
/* ------------------------------------------------------------------ */
@media (max-width: 800px) {

  :root {
    --space-sm: 10px;
    --space-md: 14px;
    --space-lg: 20px;
  }

  .header-inner { display:flex; flex-direction:column; gap:8px; align-items:stretch; padding: 8px var(--space-sm); }
  .header-top { height: 56px; }
  .logo .brand { font-size: 1rem; }
  .logo .tagline { display:none; }

  /* header-bottom: collapsed by default — KEEP positions & transforms as original */
  .header-bottom {
    position: fixed;
    top: 80px;
    left: 0;
    width: 100%;
    background: rgba(255,255,255,0.9);
    backdrop-filter: blur(10px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    border-bottom: 1px solid rgba(0,0,0,0.05);
    padding: 0.75rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    transform: translateY(-100%);
    opacity: 0;
    pointer-events: none;
    transition:
      transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
      opacity 0.3s ease;
    z-index: 1000;
  }
  .header-bottom.open {
    transform: translateY(0);
    opacity: 1;
    pointer-events: auto;
  }

  #mobileMenuToggle { display: inline-flex; }
  .header-search { width: 100%; min-width: auto; order: 1; }
  #navBar { order: 2; display:flex; width:100%; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:8px; }

  .card, .post { padding: var(--space-md); margin-bottom: var(--space-md); flex-direction: column; gap: var(--space-md); }
  .post .post-left { width: 100%; display:flex; align-items:center; gap:12px; }
  .post .post-body { order: 2; }
  .post .post-excerpt { display:none; }
  .post .post-img { max-width: 100%; height: auto; margin-top: var(--space-sm); }

  .site-footer .footer-inner { flex-direction: column; text-align: center; gap: var(--space-sm); }
  .footer-links { flex-direction: column; gap: 8px; }

  /* mobile sidebar (positions preserved) */
  .mobile-sidebar {
    position: fixed;
    top: 0;
    right: 0;
    height: 100vh;
    width: min(92vw, 420px);
    max-width: 92vw;
    transform: translateX(100%);
    transition: transform 320ms cubic-bezier(.2,.9,.2,1);
    z-index: 1400;
    display: flex;
    align-items: stretch;
    justify-content: flex-end;
    pointer-events: none;
  }
  .mobile-sidebar.open { transform: translateX(0); pointer-events: auto; }
  .mobile-sidebar-panel {
    width: 100%;
    height: 100%;
    background: var(--surface);
    box-shadow: -18px 0 40px rgba(16,24,40,0.12);
    padding: 18px;
    overflow: auto;
    display: flex;
    flex-direction: column;
    gap: 12px;
    border-radius: 6px 0 0 6px;
  }
  .mobile-sidebar-header { padding-bottom: 6px; border-bottom: 1px solid rgba(15,23,42,0.04); }
  .mobile-sidebar-content { padding-top: 8px; display: flex; flex-direction: column; gap: 8px; }

  .mobile-sidebar-overlay {
    position: fixed;
    inset: 0;
    z-index: 1390;
    background: rgba(0,0,0,0.45);
    opacity: 0;
    transition: opacity 220ms ease;
    pointer-events: none;
  }
  .mobile-sidebar-overlay.show { opacity: 1; pointer-events: auto; }

  .mobile-sidebar.open ~ .site-footer,
  .mobile-sidebar.open ~ main {
    filter: none;
  }
}

/* ---------------------------------------------------------------------------
   New mobile/card-specific adjustments
   --------------------------------------------------------------------------- */

/* Apply on small devices where extra container padding wastes width. */
@media (max-width: 800px) {
  .container { padding-left: 10px; padding-right: 10px; }
  .card, .post {
    width: calc(100% + (2 * var(--space-sm)));
    margin-left: calc(var(--space-sm) * -1);
    margin-right: calc(var(--space-sm) * -1);
    border-radius: 10px;
    box-shadow: var(--shadow-1);
    padding: calc(var(--space-md));
  }
  .post .post-img, .card img { max-width: 100%; height: auto; display: block; }
  .card { gap: 12px; }
  .post { gap: 12px; }
  .profile-hero { padding-left: calc(var(--space-md)); padding-right: calc(var(--space-md)); border-radius: 10px; }
}

/* Desktop / tablet adjustments */
@media (min-width: 801px) and (max-width: 1100px) {
  .header-search { min-width: 200px; width: 30%; }
  .header-inner { padding: 0 var(--space-md); }
  .header-bottom { max-height: none; opacity: 1; pointer-events: auto; transform: none; }
  #mobileMenuToggle { display: none; }
}
@media (min-width: 1101px) {
  .header-bottom { max-height: none; opacity: 1; pointer-events: auto; transform: none; }
  #mobileMenuToggle { display: none; }
}

/* End of file */

/* -------------------------------------------------------------------------
   Additions: ensure the 3-dot kebab sits at the right edge of the header for
   both posts and comments, and the popup aligns under that button.
   Placed at the end so it overrides any inline or earlier declarations.
   ------------------------------------------------------------------------- */

/* Make header a positioning context so absolute kebab aligns to header's right */
.post .post-header,
.feed .post .post-header,
.post.comment .post-header {
  position: relative;
}

/* Place the kebab (three-dot) at the right edge of the header */
.post .post-kebab,
.post.comment .post-kebab {
  position: absolute;
  right: 8px;
  top: 12px;
  margin-left: 0;
  z-index: 10;
  background: transparent;
  border: none;
  cursor: pointer;
  width: 36px;
  height: 36px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 8px;
}

/* Popup/panel should anchor under the kebab on the right */
.post .post-popup,
.post.comment .post-popup {
  position: absolute;
  right: 8px;
  top: 44px;
  left: auto;
  z-index: 2000;
}

/* small-screen nudge */
@media (max-width: 600px) {
  .post .post-kebab,
  .post.comment .post-kebab {
    top: 8px;
    right: 8px;
  }
  .post .post-popup,
  .post.comment .post-popup {
    top: 40px;
    right: 8px;
  }
}